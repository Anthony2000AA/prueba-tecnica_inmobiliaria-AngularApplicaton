<div class="container-table">
        <div class="container-months">
            <label for="button"> Meses solicitados: {{monthsRequired}}</label>
        </div>
    <p-table
    [value]="installmentList"
    [rows]="pageSize"
    [showCurrentPageReport]="true"
    [tableStyle]="{ 'min-width': '50rem' }"
    >
    <ng-template pTemplate="header">
        <tr>
            <th style="width:25%">N' Cuota</th>
            <th style="width:25%">Monto</th>
            <th style="width:25%">Fecha</th>
            <th style="width:25%">Subir archivo</th>
            <th style="width:25%"></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-installment let-i="rowIndex">
        <tr>
            <td>{{ getGlobalIndex(i)}}</td>
            <td>{{ installment.amount }}</td>
            <td>S/. {{ installment.paymentDate }}</td>
           
            <td>
                <ng-container *ngIf="!installment.archivePath">
                    <label class="custom-file-upload">
                        <input type="file" (change)="onFileSelected($event, installment.id)" accept=".pdf,image/*" />
                        Subir Archivo
                    </label>
                </ng-container>

                <ng-container *ngIf="installment.archivePath">
                    <label class="custom-file-upload change">
                        <input type="file" (change)="onFileSelected($event, installment.id)" accept=".pdf" />
                        Cambiar Archivo
                    </label>
                </ng-container>

            </td>
            <td>
                <ng-container *ngIf="installment.archivePath">
                    <p-button class="p-button-rounded p-button-success" (click)="downloadFile(installment.id)">
                        <i class="pi pi-download"></i>
                    </p-button>
                    <div class="name-file">{{ getFileName(installment.archivePath) }}</div>
                </ng-container>
                <ng-container *ngIf="!installment.archivePath">
                    <p-button [disabled]="true" class="p-button-rounded p-button-success">
                        <i class="pi pi-download"></i>
                    </p-button>
                </ng-container>
            </td>
        </tr>
    </ng-template>
    </p-table>

    <div class="pagination-container">
        <button pButton pRipple (click)="prevPage()" [disabled]="isFirstPage()" class="p-button-success">Prev</button>
        <label>Pagina {{ currentPage }} de {{ totalPages }}</label>
        <button pButton pRipple (click)="nextPage()" [disabled]="isLastPage()" class="p-button-success">Next</button>
    </div>  
</div>

<p-toast></p-toast>

<!--Loader-->
<div class="container-loader" *ngIf="loading">
    <app-loader></app-loader>
</div>